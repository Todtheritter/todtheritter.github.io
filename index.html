<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>North Carolina Interactive Map</title>

  <link
    rel="stylesheet"
    href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
  />

  <style>
    body { margin: 0; }
    #map { height: 100vh; }
  </style>
</head>

<body>
  <div id="map"></div>

  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

  <script>
    // Create map centered on North Carolina
    const map = L.map('map', {
      center: [35.5, -79],
      zoom: 7,
      minZoom: 6,
      maxZoom: 12,
      maxBounds: [
        [33.5, -85],
        [37, -75]
      ]
    });

    // Add basemap
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      attribution: '&copy; OpenStreetMap contributors'
    }).addTo(map);

    // Load GeoJSON
    fetch('nc-house.geojson')   // <-- Make sure filename matches exactly
      .then(response => response.json())
      .then(data => {

function style(feature) {
  const district = feature.properties.DISTRICT;
  const vote = voteResults[district];

  let fillColor = "transparent";
  let fillOpacity = 0;

  if (vote === "yes") {
    fillColor = "#2ca25f";   // green
    fillOpacity = 0.5;       // 50% opacity
  }

  return {
    color: "#444",      // subtle border
    weight: 1,
    fillColor: fillColor,
    fillOpacity: fillOpacity
  };
}


        function highlightFeature(e) {
          const layer = e.target;
          layer.setStyle({
            fillColor: "#ff7800",
            fillOpacity: 0.8
          });
        }

        function resetHighlight(e) {
          geojson.resetStyle(e.target);
        }

        function onEachFeature(feature, layer) {
          layer.on({
            mouseover: highlightFeature,
            mouseout: resetHighlight,
            click: function () {
              alert("District clicked");
            }
          });
        }

        const geojson = L.geoJSON(data, {
          style: style,
          onEachFeature: onEachFeature
        }).addTo(map);

      });
  </script>
</body>
</html>

